# Publish Logos Foundry Container
# Uses the standardized reusable workflow

name: Publish Package Container

on:
  push:
    branches: [main]
    paths:
      - 'logos_*/**'
      - 'sdk/**'
      - 'planner_stub/**'
      - 'utils/**'
      - 'Dockerfile.foundry'
      - 'pyproject.toml'
      - 'poetry.lock'
  release:
    types: [published]
  workflow_dispatch:

permissions:
  contents: read
  packages: write

jobs:
  publish:
    uses: c-daly/logos/.github/workflows/reusable-publish.yml@main
    with:
      image_name: logos-foundry
      dockerfile: Dockerfile.foundry
    secrets: inherit
